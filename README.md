# Closedloop DS Interview

Included in this zip are 3 other files. They are the provided dataset, a helper_functions.py that contains functions to read the data via sqlite as well as one other function to help organize the feature names, and a model execution jupyter notebook. The helper_functions file is intended to be a highly reusable asset that could be used for other models closedloop is working on and is indicative of how I write production level code. The model execution file applies the helper_functions and then ultimately trains and evaluates a gradient boosting model to solve the given prompt and is much more narrative in nature. There are numerous comments in the notebook detailing my thought process.

There are 4 feature functions that are input, 1 for each of the tables within the provided sql database. 3 of the 4 functions accept feature date ranges as input, meaning that they are dynamic to desired timeframe and can be applied repeatedly to get both short and long term oriented features. In the notebook, I used 3 and 12 month time ranges. If the data were available, it would be appropriate to get even longer time ranges, say 5 and 10 year history. The function that does not accept feature date ranges is based on the demographics table, which does not change over time unless the patient dies.

Within the model execution notebook, we use the helper functions to create the desired final dataset, train a baseline gradient boosting model, and then use cross validation to tune the hyperparameters to create a final gradient boosting model. The baseline model has an accuracy of 87% and a precision of 43%.  The final model has an accuracy of 88% and a precision of 50%. Because patients are over 6x more likely to not visit the ER over a span of 6 months than are, this is an imbalanced classification problem and particular attention was given to the models' precision. 